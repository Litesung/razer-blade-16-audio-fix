#!/bin/bash
#
# Razer Blade 16 Complete Audio Fix
# Self-contained installer for speakers, headphone switching, and hissing fix
#
# Usage:
#   curl -fsSL <url> | sudo bash
#   # or
#   chmod +x razer-blade-16-audio-fix.sh && sudo ./razer-blade-16-audio-fix.sh
#
# Fixes:
#   1. Speakers produce no sound (ALC298 codec not initialized)
#   2. No automatic headphone/speaker switching when plugging 3.5mm
#   3. Periodic hissing on 3.5mm headphone output
#   4. Audio pausing when switching between devices
#   5. Static/crackling in games outputting at 44100Hz (sample rate mismatch)
#
# Tested: Razer Blade 16 (RZ09-0510) with ALC298 codec
# Requires: PipeWire, WirePlumber, alsa-tools (hda-verb)
#

set -euo pipefail
VERSION="2.0.0"

RED='\033[0;31m'; GREEN='\033[0;32m'; YELLOW='\033[1;33m'; BLUE='\033[0;34m'; NC='\033[0m'
log_info() { echo -e "${GREEN}[INFO]${NC} $1"; }
log_warn() { echo -e "${YELLOW}[WARN]${NC} $1"; }
log_error() { echo -e "${RED}[ERROR]${NC} $1"; }
log_step() { echo -e "${BLUE}[STEP]${NC} $1"; }

REAL_USER="${SUDO_USER:-$USER}"
REAL_HOME=$(eval echo "~$REAL_USER")

check_root() {
    [[ $EUID -eq 0 ]] || { log_error "Run with sudo"; exit 1; }
}

check_deps() {
    log_step "Checking dependencies..."
    if ! command -v hda-verb &>/dev/null; then
        log_warn "Installing alsa-tools..."
        if command -v pacman &>/dev/null; then pacman -S --noconfirm alsa-tools
        elif command -v apt &>/dev/null; then apt update && apt install -y alsa-tools
        elif command -v dnf &>/dev/null; then dnf install -y alsa-tools
        else log_error "Install alsa-tools manually"; exit 1; fi
    fi
    command -v pactl &>/dev/null || { log_error "PipeWire/PulseAudio not found"; exit 1; }
    command -v pw-link &>/dev/null || { log_error "PipeWire not found"; exit 1; }
    log_info "Dependencies OK"
}

check_hardware() {
    log_step "Checking hardware..."
    grep -qi "razer" /sys/class/dmi/id/sys_vendor 2>/dev/null || {
        log_warn "Not a Razer laptop"; read -p "Continue? [y/N] " -n1 -r; echo
        [[ $REPLY =~ ^[Yy]$ ]] || exit 1
    }
    aplay -l 2>/dev/null | grep -qi "ALC298\|sof-hda-dsp" || {
        log_warn "ALC298 codec not detected"; read -p "Continue? [y/N] " -n1 -r; echo
        [[ $REPLY =~ ^[Yy]$ ]] || exit 1
    }
    log_info "Hardware: $(cat /sys/class/dmi/id/product_name 2>/dev/null)"
}

create_dirs() {
    log_step "Creating directories..."
    mkdir -p /usr/local/bin "$REAL_HOME/.local/bin" "$REAL_HOME/.config/systemd/user"
    mkdir -p "$REAL_HOME/.config/pipewire/pipewire.conf.d"
    mkdir -p "$REAL_HOME/.config/wireplumber/wireplumber.conf.d"
    chown -R "$REAL_USER:$REAL_USER" "$REAL_HOME/.config" "$REAL_HOME/.local"
}

# ============================================================
# SPEAKER FIX SCRIPT (embedded)
# ============================================================
install_speaker_fix() {
    log_step "Installing speaker fix script..."
    cat > /usr/local/bin/razer-blade-speaker-fix.sh << 'SPEAKER_SCRIPT'
#!/bin/bash
LOG="/tmp/razer-blade-speaker-fix.log"
echo "[$(date)] Starting speaker fix..." >> "$LOG"
CARD_NUM=$(aplay -l 2>/dev/null | grep -i "sof-hda-dsp\|ALC298" | head -1 | awk '{print $2}' | tr -d ':')
[[ -z "$CARD_NUM" ]] && { echo "[$(date)] ERROR: No audio card" >> "$LOG"; exit 1; }
DEV="/dev/snd/hwC${CARD_NUM}D0"
[[ ! -c "$DEV" ]] && { echo "[$(date)] ERROR: $DEV not found" >> "$LOG"; exit 1; }
echo "[$(date)] Device: $DEV" >> "$LOG"

SPEAKER_SCRIPT
# HDA-VERB COMMANDS START
hda-verb $DEV 0x20 0x500 0x7
hda-verb $DEV 0x20 0x500 0x7
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe20
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe20
hda-verb $DEV 0x20 0x500 0x22
hda-verb $DEV 0x20 0x400 0x10
hda-verb $DEV 0x20 0x500 0x22
hda-verb $DEV 0x20 0x400 0x10
hda-verb $DEV 0x20 0x500 0x52
hda-verb $DEV 0x20 0x400 0xd191
hda-verb $DEV 0x20 0x500 0x52
hda-verb $DEV 0x20 0x400 0xd191
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xea00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xea00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc121
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc121
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x400 0x6f40
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x400 0x6f40
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x500 0x85
hda-verb $DEV 0x20 0x500 0x85
hda-verb $DEV 0x20 0x500 0x55
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x500 0x55
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x248f
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x248f
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x2d8f
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x2d8f
hda-verb $DEV 0x20 0x500 0x2d
hda-verb $DEV 0x20 0x500 0x2d
hda-verb $DEV 0x20 0x500 0x2d
hda-verb $DEV 0x20 0x400 0x4020
hda-verb $DEV 0x20 0x500 0x2d
hda-verb $DEV 0x20 0x400 0x4020
hda-verb $DEV 0x20 0x500 0x63
hda-verb $DEV 0x20 0x500 0x63
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x2d8f
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0x2d8f
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x400 0x11
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x400 0x11
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x400 0xc10
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x400 0xc10
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x400 0x42
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x400 0x42
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x400 0x2be0
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x400 0x2be0
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0xfcf
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x400 0xfcf
hda-verb $DEV 0x20 0x500 0xc
hda-verb $DEV 0x20 0x400 0x811e
hda-verb $DEV 0x20 0x500 0xc
hda-verb $DEV 0x20 0x400 0x811e
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x400 0x6f40
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x400 0x6f40
hda-verb $DEV 0x20 0x500 0xf
hda-verb $DEV 0x20 0x400 0x62
hda-verb $DEV 0x20 0x500 0xf
hda-verb $DEV 0x20 0x400 0x62
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x19
hda-verb $DEV 0x20 0x400 0x1317
hda-verb $DEV 0x20 0x500 0x19
hda-verb $DEV 0x20 0x400 0x1317
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x400 0xc10
hda-verb $DEV 0x20 0x400 0xc10
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x2d
hda-verb $DEV 0x20 0x400 0x4020
hda-verb $DEV 0x20 0x400 0x4020
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x4f
hda-verb $DEV 0x20 0x400 0xd409
hda-verb $DEV 0x20 0x400 0xd409
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x50
hda-verb $DEV 0x20 0x400 0x3078
hda-verb $DEV 0x20 0x400 0x3078
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x52
hda-verb $DEV 0x20 0x400 0xd191
hda-verb $DEV 0x20 0x400 0xd191
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x54
hda-verb $DEV 0x20 0x400 0xcf00
hda-verb $DEV 0x20 0x400 0xcf00
hda-verb $DEV 0x20 0x500 0x55
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x56
hda-verb $DEV 0x20 0x400 0x1e
hda-verb $DEV 0x20 0x400 0x1e
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x500 0x66
hda-verb $DEV 0x20 0x400 0x404
hda-verb $DEV 0x20 0x400 0x404
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x500 0x67
hda-verb $DEV 0x20 0x400 0x1110
hda-verb $DEV 0x20 0x400 0x1110
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x400 0x11
hda-verb $DEV 0x20 0x400 0x11
hda-verb $DEV 0x20 0x500 0x8e
hda-verb $DEV 0x20 0x400 0x20
hda-verb $DEV 0x20 0x400 0x20
hda-verb $DEV 0x20 0x500 0x99
hda-verb $DEV 0x20 0x400 0x8000
hda-verb $DEV 0x20 0x400 0x8000
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xf21
hda-verb $DEV 0x20 0x400 0xf21
hda-verb $DEV 0x20 0x500 0x4f
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x500 0x4f
hda-verb $DEV 0x20 0x400 0xd409
hda-verb $DEV 0x20 0x400 0xd409
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x400 0x2be0
hda-verb $DEV 0x20 0x400 0x2be0
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x3
hda-verb $DEV 0x20 0x500 0x85
hda-verb $DEV 0x20 0x500 0x55
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x8
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc000
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc000
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x2d8f
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf20d
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf20d
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x80
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x2b
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf212
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3e
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf212
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3e
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc001
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x2
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc001
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x2
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc003
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x22
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc003
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x22
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc004
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x44
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc004
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x44
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc005
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x44
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc005
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x44
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc007
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x64
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc007
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x64
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc00e
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc00e
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf223
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x7f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf223
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x7f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf224
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xdb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf224
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xdb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf225
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xee
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf225
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xee
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf226
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf226
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf227
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf227
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf21a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf21a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf242
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf242
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x42
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc120
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x40
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc120
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x40
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0xe
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0xf
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x10
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc125
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc125
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x4020
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xd409
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x3078
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc321
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc321
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x56
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x66
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x67
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc200
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xd8
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc200
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xd8
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x8000
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc201
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x27
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc201
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x27
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xf21
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc202
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x5
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xea00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xea00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xe21
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc400
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc400
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc401
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc401
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x43
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc402
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc402
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc403
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc403
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc404
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc404
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc406
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x40
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc406
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x40
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc005
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc408
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc408
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3f
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc300
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc300
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc125
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc125
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x10
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x10
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf5f
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf5f
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x1
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf60
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xa7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdf60
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xa7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc203
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x84
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc203
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x84
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc206
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc206
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x65
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x65
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf7
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x6
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x6
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xc005
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x31
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x31
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe706
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe706
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe707
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe707
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe806
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe806
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe807
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe807
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x30
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce04
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce04
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce05
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xbd
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce05
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xbd
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce06
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xeb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce06
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xeb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce07
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xec
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce07
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xec
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf04
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf04
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf05
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xbd
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf05
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xbd
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf06
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xeb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf06
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xeb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf07
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xec
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xcf07
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xec
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce60
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xce60
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xe3
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc130
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x51
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc130
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x51
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe000
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xa8
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe000
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xa8
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf5
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf5
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x23
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x23
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x4100
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0x1888
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x4100
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0x1888
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc121
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xc121
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf102
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf103
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf5
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf104
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xf5
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x23
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf105
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x23
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf109
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10a
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x4c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf10b
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x5c
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf800
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x20
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xf800
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x20
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x80
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x80
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca10
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca10
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca02
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca02
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca12
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xca12
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x78
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xed00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x90
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xed00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x90
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe604
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xe604
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdb00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xc
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdb00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xc
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x26
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x500 0x89
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdd00
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x400 0xc
hda-verb $DEV 0x20 0x400 0xb031
hda-verb $DEV 0x20 0x400 0x0
hda-verb $DEV 0x20 0x500 0x23
hda-verb $DEV 0x20 0x400 0xdd00
# HDA-VERB COMMANDS END
echo "[$(date)] Speaker fix complete" >> "$LOG"
SPEAKER_SCRIPT
    chmod +x /usr/local/bin/razer-blade-speaker-fix.sh
    log_info "Speaker fix installed"
}

# ============================================================
# SYSTEMD SERVICES
# ============================================================
install_services() {
    log_step "Installing systemd services..."
    
    cat > /etc/systemd/system/razer-blade-speaker-fix.service << 'SVC1'
[Unit]
Description=Razer Blade speaker fix
After=sound.target multi-user.target
[Service]
Type=oneshot
ExecStartPre=/bin/sleep 2
ExecStart=/usr/local/bin/razer-blade-speaker-fix.sh
RemainAfterExit=yes
[Install]
WantedBy=multi-user.target
SVC1

    cat > /etc/systemd/system/razer-blade-speaker-fix-resume.service << 'SVC2'
[Unit]
Description=Razer Blade speaker fix after resume
After=suspend.target hibernate.target hybrid-sleep.target suspend-then-hibernate.target
[Service]
Type=oneshot
ExecStart=/usr/local/bin/razer-blade-speaker-fix.sh
[Install]
WantedBy=suspend.target hibernate.target hybrid-sleep.target suspend-then-hibernate.target
SVC2

    systemctl daemon-reload
    systemctl enable razer-blade-speaker-fix.service razer-blade-speaker-fix-resume.service
    log_info "System services enabled"
}

# ============================================================
# PIPEWIRE VIRTUAL SINK
# ============================================================
install_virtual_sink() {
    log_step "Installing PipeWire virtual sink..."
    cat > "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-virtual-output.conf" << 'VIRT'
context.objects = [
    {
        factory = adapter
        args = {
            factory.name = support.null-audio-sink
            node.name = "Main-Output"
            node.description = "Main Output"
            media.class = "Audio/Sink"
            audio.position = [ FL FR ]
            object.linger = true
            monitor.channel-volumes = true
            monitor.passthrough = true
        }
    }
]
VIRT
    chown "$REAL_USER:$REAL_USER" "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-virtual-output.conf"
    log_info "Virtual sink configured"
}

# ============================================================
# PIPEWIRE CLOCK RATE (44100Hz + 48000Hz support)
# ============================================================
install_clock_rate() {
    log_step "Configuring PipeWire clock rates..."
    cat > "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-clock-rate.conf" << 'CLOCK'
context.properties = {
    default.clock.rate = 48000
    default.clock.allowed-rates = [ 44100 48000 ]
}

stream.properties = {
    resample.quality = 10
}
CLOCK
    chown "$REAL_USER:$REAL_USER" "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-clock-rate.conf"
    log_info "Clock rate config installed (44100Hz + 48000Hz, high-quality resampling)"
}

# ============================================================
# WIREPLUMBER CONFIGS
# ============================================================
install_wireplumber() {
    log_step "Installing WirePlumber configs..."
    
    cat > "$REAL_HOME/.config/wireplumber/wireplumber.conf.d/50-razer-audio.conf" << 'WP'
# Disable auto-routing - let daemon handle device switching
wireplumber.settings = {
  linking.follow-default-target = false
  device.routes.mute-on-alsa-playback-removed = false
  device.routes.mute-on-bluetooth-playback-removed = false
  linking.pause-playback = false
}

# Prevent BT suspend for responsive switching
monitor.bluez.rules = [
  {
    matches = [ { node.name = "~bluez_output.*" } ]
    actions = { update-props = { session.suspend-timeout-seconds = 0 } }
  }
]
WP
    chown "$REAL_USER:$REAL_USER" "$REAL_HOME/.config/wireplumber/wireplumber.conf.d/50-razer-audio.conf"
    log_info "WirePlumber configured"
}

# ============================================================
# AUDIO SWITCHING DAEMON (embedded)
# ============================================================
install_daemon() {
    log_step "Installing audio switching daemon..."
    cat > "$REAL_HOME/.local/bin/razer-blade-audio-daemon" << 'DAEMON'
#!/bin/bash
# Razer Blade audio daemon - "last connected wins"
CARD="alsa_card.pci-0000_00_1f.3-platform-skl_hda_dsp_generic"
SPEAKER_PROFILE="HiFi (HDMI1, HDMI2, HDMI3, Mic1, Mic2, Speaker)"
HEADPHONE_PROFILE="HiFi (HDMI1, HDMI2, HDMI3, Headphones, Mic1, Mic2)"
VIRTUAL_SINK="Main-Output"
POLL_INTERVAL=1
CURRENT_OUTPUT="" PREV_JACK="" PREV_BT=""

get_jack() {
    local v=$(sudo hda-verb /dev/snd/hwC1D0 0x21 GET_PIN_SENSE 0 2>/dev/null | grep "value = " | awk '{print $3}')
    [[ "$v" = "0x80000000" ]] && echo "plugged" || echo "unplugged"
}
get_bt() { pactl list sinks short 2>/dev/null | grep -i "bluez_output" | awk '{print $2}' | head -1; }
move_streams() { pactl list sink-inputs short 2>/dev/null | awk '{print $1}' | while read id; do pactl move-sink-input "$id" "$1" 2>/dev/null; done; }
wait_sink() { for i in $(seq 1 30); do local s=$(pactl list sinks short 2>/dev/null | grep -i "$1" | grep -v "$VIRTUAL_SINK" | awk '{print $2}' | head -1); [[ -n "$s" ]] && { echo "$s"; return; }; sleep 0.1; done; }
link_to() {
    pw-link "${VIRTUAL_SINK}:monitor_FL" "$1:playback_FL" 2>/dev/null
    pw-link "${VIRTUAL_SINK}:monitor_FR" "$1:playback_FR" 2>/dev/null
    for t in $(pw-link -l 2>/dev/null | sed -n "/^${VIRTUAL_SINK}:monitor_FL$/,/^[^ ]/p" | grep "|-> " | awk '{print $2}' | grep -v "$1"); do
        pw-link -d "${VIRTUAL_SINK}:monitor_FL" "$t" 2>/dev/null; done
    for t in $(pw-link -l 2>/dev/null | sed -n "/^${VIRTUAL_SINK}:monitor_FR$/,/^[^ ]/p" | grep "|-> " | awk '{print $2}' | grep -v "$1"); do
        pw-link -d "${VIRTUAL_SINK}:monitor_FR" "$t" 2>/dev/null; done
}

to_headphones() {
    echo "$(date):  Headphones"
    pactl set-default-sink "$VIRTUAL_SINK" 2>/dev/null; move_streams "$VIRTUAL_SINK"
    pactl set-card-profile "$CARD" "$HEADPHONE_PROFILE" 2>/dev/null
    local s=$(wait_sink "Headphone"); [[ -n "$s" ]] && { link_to "$s"; pactl set-sink-volume "$s" 100% 2>/dev/null; }
    CURRENT_OUTPUT="headphones"
}
to_bt() {
    echo "$(date):  Bluetooth"
    pactl set-default-sink "$1" 2>/dev/null; move_streams "$1"
    CURRENT_OUTPUT="bluetooth:$1"
}
to_speakers() {
    echo "$(date):  Speakers"
    pactl set-default-sink "$VIRTUAL_SINK" 2>/dev/null; move_streams "$VIRTUAL_SINK"
    pactl set-card-profile "$CARD" "$SPEAKER_PROFILE" 2>/dev/null
    local s=$(wait_sink "Speaker"); [[ -n "$s" ]] && { link_to "$s"; pactl set-sink-volume "$s" 100% 2>/dev/null; }
    CURRENT_OUTPUT="speakers"
}
fallback() {
    local j=$(get_jack) b=$(get_bt)
    [[ "$j" = "plugged" ]] && { to_headphones; return; }
    [[ -n "$b" ]] && { to_bt "$b"; return; }
    to_speakers
}

trap 'exit 0' SIGTERM SIGINT
echo "$(date): Audio daemon starting"
PREV_JACK=$(get_jack); PREV_BT=$(get_bt)
[[ "$PREV_JACK" = "plugged" ]] && to_headphones || { [[ -n "$PREV_BT" ]] && to_bt "$PREV_BT" || to_speakers; }

while true; do
    sleep "$POLL_INTERVAL"
    j=$(get_jack); b=$(get_bt)
    [[ "$j" != "$PREV_JACK" ]] && { [[ "$j" = "plugged" ]] && to_headphones || { [[ "$CURRENT_OUTPUT" = "headphones" ]] && fallback; }; PREV_JACK="$j"; }
    [[ "$b" != "$PREV_BT" ]] && { [[ -z "$PREV_BT" && -n "$b" ]] && to_bt "$b"; [[ -n "$PREV_BT" && -z "$b" && "$CURRENT_OUTPUT" = bluetooth:* ]] && fallback; PREV_BT="$b"; }
done
DAEMON
    chmod +x "$REAL_HOME/.local/bin/razer-blade-audio-daemon"
    chown "$REAL_USER:$REAL_USER" "$REAL_HOME/.local/bin/razer-blade-audio-daemon"

    cat > "$REAL_HOME/.config/systemd/user/razer-blade-audio-daemon.service" << SVC
[Unit]
Description=Razer Blade audio switching daemon
After=pipewire.service wireplumber.service
[Service]
Type=simple
ExecStart=$REAL_HOME/.local/bin/razer-blade-audio-daemon
Restart=on-failure
RestartSec=5
[Install]
WantedBy=default.target
SVC
    chown "$REAL_USER:$REAL_USER" "$REAL_HOME/.config/systemd/user/razer-blade-audio-daemon.service"
    log_info "Audio daemon installed"
}

# ============================================================
# HISSING FIX + SUDOERS
# ============================================================
install_hissing_fix() {
    log_step "Installing hissing fix..."
    cat > /etc/udev/rules.d/99-razer-blade-audio.rules << 'UDEV'
ACTION=="add", SUBSYSTEM=="pci", ATTR{vendor}=="0x8086", ATTR{class}=="0x040300", ATTR{power/control}="on"
ACTION=="add", SUBSYSTEM=="hdaudio", ATTR{power/control}="on"
UDEV
    cat > /etc/modprobe.d/razer-blade-audio.conf << 'MOD'
options snd_hda_intel power_save=0
options snd_hda_intel power_save_controller=N
MOD
    udevadm control --reload-rules; udevadm trigger
    log_info "Hissing fix installed"
}

install_sudoers() {
    log_step "Installing sudoers rule..."
    echo "$REAL_USER ALL=(ALL) NOPASSWD: /usr/bin/hda-verb" > /etc/sudoers.d/razer-blade-audio
    chmod 440 /etc/sudoers.d/razer-blade-audio
    log_info "Sudoers configured"
}

enable_user_services() {
    log_step "Enabling user services..."
    su - "$REAL_USER" -c "systemctl --user daemon-reload"
    su - "$REAL_USER" -c "systemctl --user enable razer-blade-audio-daemon.service"
}

restart_audio() {
    log_step "Restarting audio..."
    /usr/local/bin/razer-blade-speaker-fix.sh || true
    su - "$REAL_USER" -c "systemctl --user restart pipewire wireplumber" || true
    sleep 2
    su - "$REAL_USER" -c "systemctl --user start razer-blade-audio-daemon" || true
}

show_complete() {
    echo; log_info "Installation complete!"
    echo "
Installed:
  Speaker fix:    /usr/local/bin/razer-blade-speaker-fix.sh
  Audio daemon:   ~/.local/bin/razer-blade-audio-daemon
  Virtual sink:   Main-Output (PipeWire)

Check status:
  systemctl status razer-blade-speaker-fix
  systemctl --user status razer-blade-audio-daemon
  pactl get-default-sink  # Should show Main-Output

Uninstall:
  sudo $0 --uninstall
"
}

uninstall() {
    log_info "Uninstalling..."
    systemctl disable razer-blade-speaker-fix.service razer-blade-speaker-fix-resume.service 2>/dev/null || true
    rm -f /etc/systemd/system/razer-blade-speaker-fix*.service
    rm -f /usr/local/bin/razer-blade-speaker-fix.sh
    su - "$REAL_USER" -c "systemctl --user disable razer-blade-audio-daemon.service" 2>/dev/null || true
    rm -f "$REAL_HOME/.config/systemd/user/razer-blade-audio-daemon.service"
    rm -f "$REAL_HOME/.local/bin/razer-blade-audio-daemon"
    rm -f "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-virtual-output.conf"
    rm -f "$REAL_HOME/.config/pipewire/pipewire.conf.d/10-clock-rate.conf"
    rm -f "$REAL_HOME/.config/wireplumber/wireplumber.conf.d/50-razer-audio.conf"
    rm -f /etc/udev/rules.d/99-razer-blade-audio.rules
    rm -f /etc/modprobe.d/razer-blade-audio.conf
    rm -f /etc/sudoers.d/razer-blade-audio
    systemctl daemon-reload; udevadm control --reload-rules
    su - "$REAL_USER" -c "systemctl --user daemon-reload; systemctl --user restart pipewire wireplumber" || true
    log_info "Uninstalled. Reboot recommended."
}

case "${1:-install}" in
    --install|install) check_root; check_deps; check_hardware; create_dirs
        install_speaker_fix; install_services; install_virtual_sink; install_clock_rate
        install_wireplumber; install_daemon; install_hissing_fix; install_sudoers; enable_user_services
        restart_audio; show_complete ;;
    --uninstall|uninstall) check_root; uninstall ;;
    --help|-h) echo "Usage: sudo $0 [--install|--uninstall|--help]" ;;
    *) echo "Unknown: $1"; exit 1 ;;
esac
